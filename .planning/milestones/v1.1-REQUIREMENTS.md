# Requirements Archive: v1.1 MS Project-Style Scheduling

**Archived:** 2026-02-17
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: FlowPlan

**Defined:** 2026-02-16
**Core Value:** Task dependencies drive the schedule automatically -- when a predecessor changes, all successors cascade their dates like Microsoft Project

## v1.1 Requirements

Requirements for MS Project-Style Scheduling milestone. Each maps to roadmap phases.

### Scheduling Engine

- [ ] **SCHED-01**: When user changes a task's duration, all successor tasks automatically recalculate their dates through the dependency chain
- [ ] **SCHED-02**: When user adds/removes/modifies a dependency, all affected tasks automatically recalculate
- [ ] **SCHED-03**: SS (Start-to-Start) dependencies compute correct dates in forward and backward pass
- [ ] **SCHED-04**: FF (Finish-to-Finish) dependencies compute correct dates in forward and backward pass
- [ ] **SCHED-05**: SF (Start-to-Finish) dependencies compute correct dates in forward and backward pass
- [ ] **SCHED-06**: Dependencies support negative lag (lead time) -- e.g., FS -2d means successor starts 2 days before predecessor finishes
- [ ] **SCHED-07**: Scheduling recalculation updates Gantt chart immediately after each change
- [ ] **SCHED-08**: Changed CPM fields (ES/EF/LS/LF/slack/is_critical) are persisted to database in batch

### Constraints

- [ ] **CNST-01**: User can set ASAP constraint (default -- pure dependency-driven scheduling)
- [ ] **CNST-02**: User can set Must Start On (MSO) constraint with a date -- task starts on that date regardless of dependencies
- [ ] **CNST-03**: User can set Start No Earlier Than (SNET) constraint -- task cannot start before given date
- [ ] **CNST-04**: User can set Finish No Later Than (FNLT) constraint -- warning shown if schedule violates deadline
- [ ] **CNST-05**: Scheduling conflicts are detected and shown as warnings (MSO vs dependency conflict, FNLT violation)

### Manual Scheduling

- [ ] **MANU-01**: User can toggle a task between auto and manual scheduling mode
- [ ] **MANU-02**: Manual tasks have user-set dates that the scheduling engine does not move
- [ ] **MANU-03**: Manual tasks still drive successor dates (successors use manual task's dates as predecessor dates)
- [ ] **MANU-04**: Manual tasks show distinct visual style in Gantt chart

### Progress Tracking

- [ ] **PROG-01**: User can set percent complete (0-100) on a task
- [ ] **PROG-02**: Percent complete syncs bidirectionally with task status (0%=pending, 1-99%=in_progress, 100%=done)
- [ ] **PROG-03**: Actual start date auto-records when percent complete first goes above 0
- [ ] **PROG-04**: Actual finish date auto-records when percent complete reaches 100
- [ ] **PROG-05**: Completed tasks (100%) are frozen -- they do not move when predecessors change
- [ ] **PROG-06**: In-progress tasks with actual_start do not move backward
- [ ] **PROG-07**: Gantt bars show progress fill (darker portion covering completed percentage)

## Future Requirements

Deferred to v1.2+. Tracked but not in current roadmap.

### Advanced Constraints

- **CNST-06**: ALAP (As Late As Possible) constraint type
- **CNST-07**: MFO (Must Finish On) constraint type
- **CNST-08**: SNLT (Start No Later Than) constraint type
- **CNST-09**: FNET (Finish No Earlier Than) constraint type

### Advanced Scheduling

- **SCHED-09**: Cascade preview -- show affected tasks before saving a change
- **SCHED-10**: Dependency-driven status suggestions ("ready to start" when all predecessors complete)
- **SCHED-11**: Overdue and at-risk task highlighting

### Gantt Enhancements

- **GANTT-01**: Drag-to-reschedule on Gantt chart
- **GANTT-02**: Constraint indicators on Gantt bars (pin for MSO, bracket for FNLT)

## Out of Scope

| Feature | Reason |
|---------|--------|
| Resource leveling | NP-hard, massive complexity, MS Project's leveler is notorious for unexpected results |
| Effort-driven scheduling | Confusing even to experts, rarely useful in audit management |
| Multiple baselines | Overkill for v1.1 -- defer to future if needed |
| Task splitting | Rarely used, complex to visualize |
| Recurring tasks | Complex interaction with dependencies |
| ALAP scheduling | Requires backward-scheduled projects, confusing |
| WBS numbering | Unrelated to scheduling, phase structure sufficient |
| Earned Value Analysis | Requires cost data and baselines, separate domain |
| Calendar-day lag (elapsed days) | Working-day lag only, consistent with existing engine |
| Sub-tasks / WBS hierarchy | Would require data model restructuring |
| Cost tracking | Separate domain, defer to future milestone |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| SCHED-01 | Phase 4 | Pending |
| SCHED-02 | Phase 4 | Pending |
| SCHED-03 | Phase 4 | Pending |
| SCHED-04 | Phase 4 | Pending |
| SCHED-05 | Phase 4 | Pending |
| SCHED-06 | Phase 4 | Pending |
| SCHED-07 | Phase 4 | Pending |
| SCHED-08 | Phase 4 | Pending |
| CNST-01 | Phase 5 | Pending |
| CNST-02 | Phase 5 | Pending |
| CNST-03 | Phase 5 | Pending |
| CNST-04 | Phase 5 | Pending |
| CNST-05 | Phase 5 | Pending |
| MANU-01 | Phase 5 | Pending |
| MANU-02 | Phase 5 | Pending |
| MANU-03 | Phase 5 | Pending |
| MANU-04 | Phase 5 | Pending |
| PROG-01 | Phase 6 | Pending |
| PROG-02 | Phase 6 | Pending |
| PROG-03 | Phase 6 | Pending |
| PROG-04 | Phase 6 | Pending |
| PROG-05 | Phase 6 | Pending |
| PROG-06 | Phase 6 | Pending |
| PROG-07 | Phase 6 | Pending |

**Coverage:**
- v1.1 requirements: 24 total
- Mapped to phases: 24
- Unmapped: 0

---
*Requirements defined: 2026-02-16*
*Last updated: 2026-02-16 after roadmap creation*
